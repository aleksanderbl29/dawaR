<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Base API function — dawa • dawaR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Base API function — dawa"><meta name="description" content="This function is the foundation of all communication with the
api in this package. Not intended for end-users, but it provides all the
flexibility of the api without the nice conveniences of the other functions
in this package. By default it reformats the api response (which is json)
to a list object."><meta property="og:description" content="This function is the foundation of all communication with the
api in this package. Not intended for end-users, but it provides all the
flexibility of the api without the nice conveniences of the other functions
in this package. By default it reformats the api response (which is json)
to a list object."><meta property="og:image" content="https://dawar.aleksanderbl.dk/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dawaR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/dawaR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/printing_maps.html">Printing maps with dawaR and ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/status.html">Checking the API status</a></li>
    <li><a class="dropdown-item" href="../articles/renv-issues.html">Issues with `{sf}` when installing with `{renv}`</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/aleksanderbl29/dawaR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Base API function</h1>
      <small class="dont-index">Source: <a href="https://github.com/aleksanderbl29/dawaR/blob/v0.2.7/R/base_api.R" class="external-link"><code>R/base_api.R</code></a></small>
      <div class="d-none name"><code>dawa.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function is the foundation of all communication with the
api in this package. Not intended for end-users, but it provides all the
flexibility of the api without the nice conveniences of the other functions
in this package. By default it reformats the api response (which is json)
to a list object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dawa</span><span class="op">(</span></span>
<span>  <span class="va">section</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  append_to_url <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  format <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  cache <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  dry_run <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  func_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-section">section<a class="anchor" aria-label="anchor" href="#arg-section"></a></dt>
<dd><p>Defines what section of the api should be called.
<code><a href="available_sections.html">available_sections()</a></code> exposes all options for this parameter.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>&lt;<code><a href="https://rlang.r-lib.org/reference/dyn-dots.html" class="external-link">dynamic-dots</a></code>&gt; input query parameters.</p></dd>


<dt id="arg-append-to-url">append_to_url<a class="anchor" aria-label="anchor" href="#arg-append-to-url"></a></dt>
<dd><p>This options enables you to append a string to the url.
It is inserted in the request after the <code>section</code> but before the <code>...</code>.</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>The format to provide as a query parameter for the api call. By
default it has value <code>NULL</code> and triggers default json formatting. When
<code>geojson</code> or <code>geojsonz</code> is provided, the function will return the raw json
data instead of the usual list.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>whether or not to provide <code>{cli}</code> output for the user. Enabled
by default, but disabled for all functions that wrap this function</p></dd>


<dt id="arg-cache">cache<a class="anchor" aria-label="anchor" href="#arg-cache"></a></dt>
<dd><p>Option to use caching in a <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code>. Enabled by default. More
info can be found in the documentation for <code><a href="https://httr2.r-lib.org/reference/req_cache.html" class="external-link">httr2::req_cache()</a></code>.</p></dd>


<dt id="arg-dry-run">dry_run<a class="anchor" aria-label="anchor" href="#arg-dry-run"></a></dt>
<dd><p>With this option enabled, the function will output the request
that has been created - Without sending it to the api. This is useful for
debugging.</p></dd>


<dt id="arg-func-params">func_params<a class="anchor" aria-label="anchor" href="#arg-func-params"></a></dt>
<dd><p>Option to include extra parameters (just like <code>...</code>
above). This option is used to pass down the dot-inputs from <code><a href="get_data.html">get_data()</a></code>
and <code><a href="get_map_data.html">get_map_data()</a></code>. It is recommended to use the dynamic dots instead of
this option, as an end user.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>By default returns the API response as a list output. For
<code>geojson(z)</code> formats it returns the raw json. When <code>dry_run = TRUE</code> it
returns the request that has been created but does not run it.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="connection_check.html">connection_check</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">dawa</span><span class="op">(</span>section <span class="op">=</span> <span class="st">"sogne"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">x</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> → Requesting `sogne` from DAWA</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Accessing <span style="color: #0000BB; font-style: italic;">&lt;https://api.dataforsyningen.dk/sogne&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ændret</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2023-11-02T22:05:36.260Z"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $geo_version</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $geo_ændret</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2023-11-02T22:05:36.260Z"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bbox</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bbox[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 12.56343</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bbox[[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 55.66719</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bbox[[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 12.58534</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bbox[[4]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 55.68334</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $visueltcenter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $visueltcenter[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 12.57165</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $visueltcenter[[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 55.67359</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $dagi_id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "107307"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $kode</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "7002"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $navn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Helligånds"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $href</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "https://api.dataforsyningen.dk/sogne/7002"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://aleksanderbl.dk" class="external-link">Aleksander Bang-Larsen</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

