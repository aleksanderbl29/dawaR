<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Checking the API status • dawaR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Checking the API status">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dawaR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/dawaR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/printing_maps.html">Printing maps with dawaR and ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/status.html">Checking the API status</a></li>
    <li><a class="dropdown-item" href="../articles/renv-issues.html">Issues with `{sf}` when installing with `{renv}`</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/aleksanderbl29/dawaR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Checking the API status</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/aleksanderbl29/dawaR/blob/main/vignettes/status.Rmd" class="external-link"><code>vignettes/status.Rmd</code></a></small>
      <div class="d-none name"><code>status.Rmd</code></div>
    </div>

    
    
<p>First we load the package</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dawar.aleksanderbl.dk/">dawaR</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; ## {dawaR} provides data from the Danish Agency of Climate Data</span></span>
<span><span class="co">#&gt; ## Terms and conditions apply.</span></span>
<span><span class="co">#&gt; ## Read more at: https://dawadocs.dataforsyningen.dk/dok/om#vilkaar</span></span></code></pre></div>
<div class="section level2">
<h2 id="use-status_check-to-assert-whether-the-services-are-available">Use <code>status_check()</code> to assert whether the services are
available<a class="anchor" aria-label="anchor" href="#use-status_check-to-assert-whether-the-services-are-available"></a>
</h2>
<p><code><a href="../reference/status_check.html">status_check()</a></code> is built to provide a simple
<code>cli</code> response in the R console with the current status of
the API.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/status_check.html">status_check</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> /rest/gsearch/v2.0/adresse, Adresser, Arkiv kort, Dataforsyningen.dk, FTPS, and WMS:forvaltning2 are not operational</span></span></code></pre></div>
<p>It is also possible to return a dataframe specifying the individual
status of each service provided by the government entity that maintains
DAWA. This is particularly useful if you would like to use it in any
further analyses.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/status_check.html">status_check</a></span><span class="op">(</span>return_df <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> /rest/gsearch/v2.0/adresse, Adresser, Arkiv kort, Dataforsyningen.dk, FTPS, and WMS:forvaltning2 are not operational</span></span>
<span><span class="co">#&gt;                      service status</span></span>
<span><span class="co">#&gt; 1 /rest/gsearch/v2.0/adresse   Down</span></span>
<span><span class="co">#&gt; 2                   Adresser   Down</span></span>
<span><span class="co">#&gt; 3                 Arkiv kort   Down</span></span>
<span><span class="co">#&gt; 4         Dataforsyningen.dk   Down</span></span>
<span><span class="co">#&gt; 5                       FTPS   Down</span></span>
<span><span class="co">#&gt; 6           WMS:forvaltning2   Down</span></span>
<span><span class="co">#&gt; 7    WMS:topo_skaermkort_DAF     OK</span></span>
<span><span class="co">#&gt; 8                sdfekort.dk     OK</span></span></code></pre></div>
<p>You can also use the
<code>status_check(error_if_unavailable = TRUE)</code> as a test to stop
your script if one of the services is currently unavailable.</p>
<p>For more granular handling of connection errors, you can use
<code><a href="../reference/connection_check.html">connection_check()</a></code> which simply returns a logical value to
help you determine how to handle the connection.</p>
</div>
<div class="section level2">
<h2 id="dawa-will-be-phased-out">DAWA <em>will</em> be phased out<a class="anchor" aria-label="anchor" href="#dawa-will-be-phased-out"></a>
</h2>
<p>The government entity that maintains the Danish Web Address API has
disclosed that the API will be phased out at some point. When that time
comes, this package will become deprecated and I will have another
package ready to provide the same functionality. The service that is to
replace DAWA is called Datafordeleren (The Data Distribution) and is in
the works. Some functionality in relation to The Central Register of
Buildings (BBR) has already been moved to the new service.</p>
<p>If you know how to read danish (or use machine-translation) you can
keep yourself up to date on <a href="https://dataforsyningen.dk/data/4924" class="external-link">this page</a>.</p>
<p>But no worries! It does not sound like the shutdown of DAWA will
happen anytime soon or without due notice. Any updates will be written
below.</p>
<div class="section level3">
<h3 id="change-history">Change history<a class="anchor" aria-label="anchor" href="#change-history"></a>
</h3>
<ul>
<li>The Central Register of Buildings has been moved effective:
03-April-2024</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://aleksanderbl.dk" class="external-link">Aleksander Bang-Larsen</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
